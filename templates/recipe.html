{% extends "base.html" %}


{% block content %}
    <div class="row" id="recipes-page">
        <div>
        <div class="col s12 m12">
          <div class="card">
          <div class="card-content">
          <h5>  {{ Recipe.Name }}</h5>
        </div>

              {% if Recipe.Image %}
                <div class="card-image">
                  <div style='background-image: url("../static/media/{{ Recipe.Image }}")'></div>
                </div>
              {% endif %}

              <div class="content">
                  <p><b>Decription:</b> {{ Recipe.Description }} </p>
                  <p><b>Prep time:</b> {{ Recipe.Prep_time }} </p>
                  <p><b>Cook time:</b> {{ Recipe.Cook_time }} </p>
                  <p><b>Total time:</b> {{ Recipe.Total_time }} </p>
                  <p><b>Ingredients:</b> <br>{{ Recipe.Ingredients | safe }}</p>
                  <p><b>Instructions:</b> <br>{{ Recipe.Instructions | safe }}</p>
              </div>
            </div>
            <div>
              <p>
                  {% if Recipe.created_by %}
                  <em>by: {{ Recipe.created_by }}</em>
                  {% else %}
                  <em>by: {{ Recipe.Added_by }}</em>
                  {% endif %}
              </p>

            {% if session["user"] %}
              {% if Recipe.created_by == session["user"] or Recipe.Added_by == session["user"] %}
              <a class="waves-effect waves-light btn-small" href="/edit-recipe/{{ Recipe._id }}">Edit</a>
              <button class="waves-effect waves-light btn-small red" onclick="deleteRecipe('{{ Recipe._id }}')">Delete</button>
              {% endif %}
            {% endif %}
            </div>

          </div>
        </div>
      </div>
{% endblock %}
{% block scripts %}
<script>
    function deleteRecipe(id){
        var confirm = window.confirm("Delete?")
        if(confirm){
            window.location.href = `/delete-recipe/${id}`;
        }
    }
</script>
{% endblock %}